%define I 5

section .text
	global _start

wait_child:
	mov rax, 247	; Waitid
	mov rdi, 0		; P_ALL, any child
	mov rsi, 0		; pid, ignored because of P_ALL
	mov rdx, 0		; Ignore siginfo
	mov r10, 4		; WEXITED
	mov r8, 0		; rusage
	syscall
	ret

_start:
	; Local variables
	; [rbp - 8] = i
	; [rbp - 9]->[rbp - len_file_name - 8] = file_name
	; [rbp - len_file_name - 8*2] = fd
	; [rbp - len_file_name - 8*2-1]->[rbp - len_file_name - 8*7] = arguments
	; [rbp - len_file_name - 8*7-1]->[rbp - len_file_name*2 - 8*7] = executable_name
	mov rbp, rsp
	sub rsp, 8*7+2*len_file_name	; Create room for variables
	mov rax, I						; Setting i
%ifdef GENERATED
	dec rax							; Remove 1 to i if generated
%endif
	mov [rbp - 8], rax				; Save i

	; Copy file_name to the stack
	lea rdi, [rbp - len_file_name - 8]	; Put address of future file_name to rdi
	mov rsi, file_name					; Put address of template file_name to rsi
	mov rcx, len_file_name				; Put the length of the template file_name to rcx
	rep movsb							; Copy string from rsi, to rdi

	; Replace X of filename by i
	mov al, [rbp - 8]						; Get i
	add al, '0'								; Convert i to ascii
	mov [rbp - len_file_name - 8 + 6], al	; Replace X by i

	; Open file
	mov rax, 85								; sys_creat
	lea rdi, [rbp - len_file_name - 8]		; Put filename to rdi
	mov rsi, 420							; Put permissions to rsi (0644)
	syscall
	cmp rax, 0								; If fail, go to errr
	jl err									; ...
	mov [rbp - len_file_name - 8*2], rax	; Save fd to stack

	; Write `I' define
	mov rax, 1								; sys_write
	mov rdi, [rbp - len_file_name - 8*2]	; fd of file
	lea rsi, [rel define_text]				; Line to write
	mov rdx, len_define_text				; Length of line to write
	syscall

	; Write I current value
	mov rax, 1								; sys_write
	mov rdi, [rbp - len_file_name - 8*2]	; fd of file
	lea rsi, [rbp - len_file_name - 8 + 6]	; Get I value from filename
	mov rdx, 1								; length of 1
	syscall

	; Write code to Sully_X.s
	mov rax, 1								; sys_write
	mov rdi, [rbp - len_file_name - 8*2]	; fd of file
	lea rsi, [rel text]						; Address of first part of code
	mov rdx, len							; Its length
	syscall

	call foo	; Write text constant (section .data)

	; Write code after text constant
	mov rax, 1
	mov rdi, [rbp - len_file_name - 8*2]
	lea rsi, [rel after_big_text]
	mov rdx, len_after_big_text
	syscall

	; Close fd (rdi already set)
	mov rax, 3
	syscall

	; Fork and go to error if error
	mov rax, 57	; Fork
	syscall
	cmp rax, 0
	jl err

	; If we are in the child process, compile Sully_x.s
	jne post_compilation	; Jump to post_compilation if parent process
	; Prepare arguments
	lea rax, [rel compiler_filename]		; Move av[0] to arglist
	mov [rbp - len_file_name - 8*7], rax	; ...
	lea rax, [rel compiler_arg1]			; Move av[1] to arglist
	mov [rbp - len_file_name - 8*6], rax	; ...
	lea rax, [rel compiler_arg2]			; Move av[2] to arglist
	mov [rbp - len_file_name - 8*5], rax	; ...
	lea rax, [rbp - len_file_name - 8]		; Move av[3] to arglist
	mov [rbp - len_file_name - 8*4], rax	; ...
	mov rax, 0
	mov [rbp - len_file_name - 8*3], rax
	mov rax, 59								; sys_execve
	lea rdi, compiler_filename
	lea rsi, [rbp - len_file_name - 8*7]	; arguments
	mov rdx, 0
	syscall
	jmp err									; execve returns only on error

post_compilation:
	call wait_child
	mov al, 'o'
	mov [rbp - 10], al						; Replace Sully_x.s by Sully_x.o

	; Construct executable name
	mov al, '.'
	mov [rbp - len_file_name*2 - 8*7], al
	mov al, '/'
	mov [rbp - len_file_name*2 - 8*7 + 1], al
	lea rdi, [rbp - len_file_name*2 - 8*7 + 2]
	lea rsi, [rbp - len_file_name - 8]
	mov rcx, len_file_name-3
	rep movsb
	mov al, 0x00
	mov [rbp - len_file_name - 8*7 - 1], al

	; Fork and go to error if error
	mov rax, 57	; Fork
	syscall
	cmp rax, 0
	jl err
	; If we are in the child process, Link Sully_x.o
	jne post_link	; Jump to post_link if parent process
	; Prepare arguments
	lea rax, [rel linker_filename]			; Move av[0] to arglist
	mov [rbp - len_file_name - 8*7], rax	; ...
	lea rax, [rel linker_arg1]
	mov [rbp - len_file_name - 8*6], rax
	lea rax, [rbp - len_file_name*2 - 8*7]
	mov [rbp - len_file_name - 8*5], rax
	lea rax, [rbp - len_file_name - 8]
	mov [rbp - len_file_name - 8*4], rax
	mov rax, 0
	mov [rbp - len_file_name - 8*3], rax
	mov rax, 59	; sys_execve
	lea rdi, linker_filename
	lea rsi, [rbp - len_file_name - 8*7]	; arguments
	mov rdx, 0
	syscall
	mov rax, 1
	mov rdi, 1
	mov rsi, compiler_filename
	mov rdx, 5
	syscall
	jmp err			; execve returns only on error

post_link:
	call wait_child
	; Fork and go to error if error
	mov rax, 57	; Fork
	syscall
	cmp rax, 0
	jl err

	; If we are in the child process, rm Sully_x.o
	jne post_rm	; Jump to post_rm if parent process
	; Prepare arguments
	lea rax, [rel rm_filename]			; Move av[0] to arglist
	mov [rbp - len_file_name - 8*7], rax	; ...
	lea rax, [rbp - len_file_name - 8]
	mov [rbp - len_file_name - 8*6], rax
	mov rax, 0
	mov [rbp - len_file_name - 8*5], rax
	mov rax, 59	; sys_execve
	lea rdi, rm_filename
	lea rsi, [rbp - len_file_name - 8*7]	; arguments
	mov rdx, 0
	syscall
	jmp err			; execve returns only on error

post_rm:
	call wait_child

	mov rax, [rbp - 8]			; Get i value
	cmp rax, 0					; If i equals 0
	je end						; exit
	; No need to fork, this is the final step : the execution
	lea rax, [rbp - len_file_name - 8*8]			; Move av[0] to arglist
	mov [rbp - len_file_name - 8*7], rax	; ...
	mov rax, 0
	mov [rbp - len_file_name - 8*6], rax
	mov rax, 59	; sys_execve
	lea rdi, [rbp - len_file_name - 8*8]
	lea rsi, [rbp - len_file_name - 8*7]	; arguments
	mov rdx, 0
	syscall
	jmp err			; execve returns only on error
err:
	mov rax, 60
	mov rdi, 1
	syscall

end:
	mov rax, 60
	mov rdi, 0
	syscall

foo:
	push rbp
	mov rbp, rsp
	push len
	lea r8, [rel text]
	push r8
	push rdi
begin_loop:
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel separator]
	mov rdx, len_separator
	syscall
	mov r8, [rbp - 16]
	mov r9b, [r8]
	cmp r9b, 0x0A
	je print_newline
	cmp r9b, 0x09
	je print_tab
	cmp r9b, 0x22
	je print_quote
print_character:
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel quote]
	mov rdx, 1
	syscall
	mov rax, 1
	mov rdi, [rbp - 24]
	mov rsi, [rbp - 16]
	mov rdx, 1
	syscall
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel quote]
	mov rdx, 1
	syscall
	jmp end_print
print_newline:
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel newline_hex]
	mov rdx, newline_hex_len
	syscall
	jmp end_print
print_tab:
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel tab_hex]
	mov rdx, tab_hex_len
	syscall
	jmp end_print
print_quote:
	mov rax, 1
	mov rdi, [rbp - 24]
	lea rsi, [rel quote_hex]
	mov rdx, quote_hex_len
	syscall
	jmp end_print
end_print:
	mov r8, [rbp - 8]
	mov r9, [rbp - 16]
	dec r8
	inc r9
	mov [rbp - 8], r8
	mov [rbp - 16], r9
	cmp r8, 0
	jne begin_loop
	mov rsp, rbp
	pop rbp
	ret

section .data
	file_name: db "Sully_X.s", 0x00
	len_file_name: equ $-file_name
	newline_hex: db "0x0A"
	newline_hex_len: equ $-newline_hex
	tab_hex: db "0x09"
	tab_hex_len: equ $-tab_hex
	quote_hex: db "0x22"
	quote_hex_len: equ $-quote_hex
	quote: db '"'
	separator: db ", "
	len_separator: equ $-separator
	compiler_filename: db "/usr/bin/nasm", 0x00
	compiler_arg1: db "-felf64", 0x00
	compiler_arg2: db "-DGENERATED", 0x00
	linker_filename: db "/usr/bin/ld", 0x00
	linker_arg1: db "-o", 0x00
	rm_filename: db "/usr/bin/rm", 0x00
	define_text: db "%define I "
	len_define_text: equ $-define_text
	after_big_text: db 0x0A, 0x09, "len equ $-text", 0x0A
	len_after_big_text: equ $-after_big_text
	text: db "", 0x0A, 0x0A, "s", "e", "c", "t", "i", "o", "n", " ", ".", "t", "e", "x", "t", 0x0A, 0x09, "g", "l", "o", "b", "a", "l", " ", "_", "s", "t", "a", "r", "t", 0x0A, 0x0A, "w", "a", "i", "t", "_", "c", "h", "i", "l", "d", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "2", "4", "7", 0x09, ";", " ", "W", "a", "i", "t", "i", "d", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "0", 0x09, 0x09, ";", " ", "P", "_", "A", "L", "L", ",", " ", "a", "n", "y", " ", "c", "h", "i", "l", "d", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "i", ",", " ", "0", 0x09, 0x09, ";", " ", "p", "i", "d", ",", " ", "i", "g", "n", "o", "r", "e", "d", " ", "b", "e", "c", "a", "u", "s", "e", " ", "o", "f", " ", "P", "_", "A", "L", "L", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "0", 0x09, 0x09, ";", " ", "I", "g", "n", "o", "r", "e", " ", "s", "i", "g", "i", "n", "f", "o", 0x0A, 0x09, "m", "o", "v", " ", "r", "1", "0", ",", " ", "4", 0x09, 0x09, ";", " ", "W", "E", "X", "I", "T", "E", "D", 0x0A, 0x09, "m", "o", "v", " ", "r", "8", ",", " ", "0", 0x09, 0x09, ";", " ", "r", "u", "s", "a", "g", "e", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "r", "e", "t", 0x0A, 0x0A, "_", "s", "t", "a", "r", "t", ":", 0x0A, 0x09, ";", " ", "L", "o", "c", "a", "l", " ", "v", "a", "r", "i", "a", "b", "l", "e", "s", 0x0A, 0x09, ";", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", " ", "=", " ", "i", 0x0A, 0x09, ";", " ", "[", "r", "b", "p", " ", "-", " ", "9", "]", "-", ">", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", " ", "=", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", 0x0A, 0x09, ";", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", " ", "=", " ", "f", "d", 0x0A, 0x09, ";", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "-", "1", "]", "-", ">", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", " ", "=", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, ";", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "-", "1", "]", "-", ">", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "*", "2", " ", "-", " ", "8", "*", "7", "]", " ", "=", " ", "e", "x", "e", "c", "u", "t", "a", "b", "l", "e", "_", "n", "a", "m", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "b", "p", ",", " ", "r", "s", "p", 0x0A, 0x09, "s", "u", "b", " ", "r", "s", "p", ",", " ", "8", "*", "7", "+", "2", "*", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", 0x09, ";", " ", "C", "r", "e", "a", "t", "e", " ", "r", "o", "o", "m", " ", "f", "o", "r", " ", "v", "a", "r", "i", "a", "b", "l", "e", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "I", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "S", "e", "t", "t", "i", "n", "g", " ", "i", 0x0A, "%", "i", "f", "d", "e", "f", " ", "G", "E", "N", "E", "R", "A", "T", "E", "D", 0x0A, 0x09, "d", "e", "c", " ", "r", "a", "x", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "R", "e", "m", "o", "v", "e", " ", "1", " ", "t", "o", " ", "i", " ", "i", "f", " ", "g", "e", "n", "e", "r", "a", "t", "e", "d", 0x0A, "%", "e", "n", "d", "i", "f", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", ",", " ", "r", "a", "x", 0x09, 0x09, 0x09, 0x09, ";", " ", "S", "a", "v", "e", " ", "i", 0x0A, 0x0A, 0x09, ";", " ", "C", "o", "p", "y", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "t", "o", " ", "t", "h", "e", " ", "s", "t", "a", "c", "k", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x09, ";", " ", "P", "u", "t", " ", "a", "d", "d", "r", "e", "s", "s", " ", "o", "f", " ", "f", "u", "t", "u", "r", "e", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "t", "o", " ", "r", "d", "i", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "i", ",", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "P", "u", "t", " ", "a", "d", "d", "r", "e", "s", "s", " ", "o", "f", " ", "t", "e", "m", "p", "l", "a", "t", "e", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "t", "o", " ", "r", "s", "i", 0x0A, 0x09, "m", "o", "v", " ", "r", "c", "x", ",", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", 0x09, 0x09, 0x09, 0x09, ";", " ", "P", "u", "t", " ", "t", "h", "e", " ", "l", "e", "n", "g", "t", "h", " ", "o", "f", " ", "t", "h", "e", " ", "t", "e", "m", "p", "l", "a", "t", "e", " ", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "t", "o", " ", "r", "c", "x", 0x0A, 0x09, "r", "e", "p", " ", "m", "o", "v", "s", "b", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "C", "o", "p", "y", " ", "s", "t", "r", "i", "n", "g", " ", "f", "r", "o", "m", " ", "r", "s", "i", ",", " ", "t", "o", " ", "r", "d", "i", 0x0A, 0x0A, 0x09, ";", " ", "R", "e", "p", "l", "a", "c", "e", " ", "X", " ", "o", "f", " ", "f", "i", "l", "e", "n", "a", "m", "e", " ", "b", "y", " ", "i", 0x0A, 0x09, "m", "o", "v", " ", "a", "l", ",", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "G", "e", "t", " ", "i", 0x0A, 0x09, "a", "d", "d", " ", "a", "l", ",", " ", "'", "0", "'", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "C", "o", "n", "v", "e", "r", "t", " ", "i", " ", "t", "o", " ", "a", "s", "c", "i", "i", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", " ", "+", " ", "6", "]", ",", " ", "a", "l", 0x09, ";", " ", "R", "e", "p", "l", "a", "c", "e", " ", "X", " ", "b", "y", " ", "i", 0x0A, 0x0A, 0x09, ";", " ", "O", "p", "e", "n", " ", "f", "i", "l", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "8", "5", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "s", "y", "s", "_", "c", "r", "e", "a", "t", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x09, 0x09, ";", " ", "P", "u", "t", " ", "f", "i", "l", "e", "n", "a", "m", "e", " ", "t", "o", " ", "r", "d", "i", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "i", ",", " ", "4", "2", "0", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "P", "u", "t", " ", "p", "e", "r", "m", "i", "s", "s", "i", "o", "n", "s", " ", "t", "o", " ", "r", "s", "i", " ", "(", "0", "6", "4", "4", ")", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "c", "m", "p", " ", "r", "a", "x", ",", " ", "0", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "I", "f", " ", "f", "a", "i", "l", ",", " ", "g", "o", " ", "t", "o", " ", "e", "r", "r", "r", 0x0A, 0x09, "j", "l", " ", "e", "r", "r", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", "S", "a", "v", "e", " ", "f", "d", " ", "t", "o", " ", "s", "t", "a", "c", "k", 0x0A, 0x0A, 0x09, ";", " ", "W", "r", "i", "t", "e", " ", "`", "I", "'", " ", "d", "e", "f", "i", "n", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "s", "y", "s", "_", "w", "r", "i", "t", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", 0x09, ";", " ", "f", "d", " ", "o", "f", " ", "f", "i", "l", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "d", "e", "f", "i", "n", "e", "_", "t", "e", "x", "t", "]", 0x09, 0x09, 0x09, 0x09, ";", " ", "L", "i", "n", "e", " ", "t", "o", " ", "w", "r", "i", "t", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "l", "e", "n", "_", "d", "e", "f", "i", "n", "e", "_", "t", "e", "x", "t", 0x09, 0x09, 0x09, 0x09, ";", " ", "L", "e", "n", "g", "t", "h", " ", "o", "f", " ", "l", "i", "n", "e", " ", "t", "o", " ", "w", "r", "i", "t", "e", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, 0x09, ";", " ", "W", "r", "i", "t", "e", " ", "I", " ", "c", "u", "r", "r", "e", "n", "t", " ", "v", "a", "l", "u", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "s", "y", "s", "_", "w", "r", "i", "t", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", 0x09, ";", " ", "f", "d", " ", "o", "f", " ", "f", "i", "l", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", " ", "+", " ", "6", "]", 0x09, ";", " ", "G", "e", "t", " ", "I", " ", "v", "a", "l", "u", "e", " ", "f", "r", "o", "m", " ", "f", "i", "l", "e", "n", "a", "m", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "1", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "l", "e", "n", "g", "t", "h", " ", "o", "f", " ", "1", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, 0x09, ";", " ", "W", "r", "i", "t", "e", " ", "c", "o", "d", "e", " ", "t", "o", " ", "S", "u", "l", "l", "y", "_", "X", ".", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "s", "y", "s", "_", "w", "r", "i", "t", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", 0x09, ";", " ", "f", "d", " ", "o", "f", " ", "f", "i", "l", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "t", "e", "x", "t", "]", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "A", "d", "d", "r", "e", "s", "s", " ", "o", "f", " ", "f", "i", "r", "s", "t", " ", "p", "a", "r", "t", " ", "o", "f", " ", "c", "o", "d", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "l", "e", "n", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "I", "t", "s", " ", "l", "e", "n", "g", "t", "h", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, 0x09, "c", "a", "l", "l", " ", "f", "o", "o", 0x09, ";", " ", "W", "r", "i", "t", "e", " ", "t", "e", "x", "t", " ", "c", "o", "n", "s", "t", "a", "n", "t", " ", "(", "s", "e", "c", "t", "i", "o", "n", " ", ".", "d", "a", "t", "a", ")", 0x0A, 0x0A, 0x09, ";", " ", "W", "r", "i", "t", "e", " ", "c", "o", "d", "e", " ", "a", "f", "t", "e", "r", " ", "t", "e", "x", "t", " ", "c", "o", "n", "s", "t", "a", "n", "t", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "2", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "a", "f", "t", "e", "r", "_", "b", "i", "g", "_", "t", "e", "x", "t", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "l", "e", "n", "_", "a", "f", "t", "e", "r", "_", "b", "i", "g", "_", "t", "e", "x", "t", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, 0x09, ";", " ", "C", "l", "o", "s", "e", " ", "f", "d", " ", "(", "r", "d", "i", " ", "a", "l", "r", "e", "a", "d", "y", " ", "s", "e", "t", ")", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "3", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, 0x09, ";", " ", "F", "o", "r", "k", " ", "a", "n", "d", " ", "g", "o", " ", "t", "o", " ", "e", "r", "r", "o", "r", " ", "i", "f", " ", "e", "r", "r", "o", "r", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "7", 0x09, ";", " ", "F", "o", "r", "k", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "c", "m", "p", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "j", "l", " ", "e", "r", "r", 0x0A, 0x0A, 0x09, ";", " ", "I", "f", " ", "w", "e", " ", "a", "r", "e", " ", "i", "n", " ", "t", "h", "e", " ", "c", "h", "i", "l", "d", " ", "p", "r", "o", "c", "e", "s", "s", ",", " ", "c", "o", "m", "p", "i", "l", "e", " ", "S", "u", "l", "l", "y", "_", "x", ".", "s", 0x0A, 0x09, "j", "n", "e", " ", "p", "o", "s", "t", "_", "c", "o", "m", "p", "i", "l", "a", "t", "i", "o", "n", 0x09, ";", " ", "J", "u", "m", "p", " ", "t", "o", " ", "p", "o", "s", "t", "_", "c", "o", "m", "p", "i", "l", "a", "t", "i", "o", "n", " ", "i", "f", " ", "p", "a", "r", "e", "n", "t", " ", "p", "r", "o", "c", "e", "s", "s", 0x0A, 0x09, ";", " ", "P", "r", "e", "p", "a", "r", "e", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "c", "o", "m", "p", "i", "l", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", "]", 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "0", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "c", "o", "m", "p", "i", "l", "e", "r", "_", "a", "r", "g", "1", "]", 0x09, 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "1", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "6", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "c", "o", "m", "p", "i", "l", "e", "r", "_", "a", "r", "g", "2", "]", 0x09, 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "2", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "5", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "3", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "4", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "3", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "9", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "s", "y", "s", "_", "e", "x", "e", "c", "v", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "c", "o", "m", "p", "i", "l", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", 0x09, ";", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "0", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "r", "r", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "e", "x", "e", "c", "v", "e", " ", "r", "e", "t", "u", "r", "n", "s", " ", "o", "n", "l", "y", " ", "o", "n", " ", "e", "r", "r", "o", "r", 0x0A, 0x0A, "p", "o", "s", "t", "_", "c", "o", "m", "p", "i", "l", "a", "t", "i", "o", "n", ":", 0x0A, 0x09, "c", "a", "l", "l", " ", "w", "a", "i", "t", "_", "c", "h", "i", "l", "d", 0x0A, 0x09, "m", "o", "v", " ", "a", "l", ",", " ", "'", "o", "'", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "1", "0", "]", ",", " ", "a", "l", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "R", "e", "p", "l", "a", "c", "e", " ", "S", "u", "l", "l", "y", "_", "x", ".", "s", " ", "b", "y", " ", "S", "u", "l", "l", "y", "_", "x", ".", "o", 0x0A, 0x0A, 0x09, ";", " ", "C", "o", "n", "s", "t", "r", "u", "c", "t", " ", "e", "x", "e", "c", "u", "t", "a", "b", "l", "e", " ", "n", "a", "m", "e", 0x0A, 0x09, "m", "o", "v", " ", "a", "l", ",", " ", "'", ".", "'", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "*", "2", " ", "-", " ", "8", "*", "7", "]", ",", " ", "a", "l", 0x0A, 0x09, "m", "o", "v", " ", "a", "l", ",", " ", "'", "/", "'", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "*", "2", " ", "-", " ", "8", "*", "7", " ", "+", " ", "1", "]", ",", " ", "a", "l", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "*", "2", " ", "-", " ", "8", "*", "7", " ", "+", " ", "2", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "c", "x", ",", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "-", "3", 0x0A, 0x09, "r", "e", "p", " ", "m", "o", "v", "s", "b", 0x0A, 0x09, "m", "o", "v", " ", "a", "l", ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", " ", "-", " ", "1", "]", ",", " ", "a", "l", 0x0A, 0x0A, 0x09, ";", " ", "F", "o", "r", "k", " ", "a", "n", "d", " ", "g", "o", " ", "t", "o", " ", "e", "r", "r", "o", "r", " ", "i", "f", " ", "e", "r", "r", "o", "r", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "7", 0x09, ";", " ", "F", "o", "r", "k", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "c", "m", "p", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "j", "l", " ", "e", "r", "r", 0x0A, 0x09, ";", " ", "I", "f", " ", "w", "e", " ", "a", "r", "e", " ", "i", "n", " ", "t", "h", "e", " ", "c", "h", "i", "l", "d", " ", "p", "r", "o", "c", "e", "s", "s", ",", " ", "L", "i", "n", "k", " ", "S", "u", "l", "l", "y", "_", "x", ".", "o", 0x0A, 0x09, "j", "n", "e", " ", "p", "o", "s", "t", "_", "l", "i", "n", "k", 0x09, ";", " ", "J", "u", "m", "p", " ", "t", "o", " ", "p", "o", "s", "t", "_", "l", "i", "n", "k", " ", "i", "f", " ", "p", "a", "r", "e", "n", "t", " ", "p", "r", "o", "c", "e", "s", "s", 0x0A, 0x09, ";", " ", "P", "r", "e", "p", "a", "r", "e", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "l", "i", "n", "k", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", "]", 0x09, 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "0", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "l", "i", "n", "k", "e", "r", "_", "a", "r", "g", "1", "]", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "6", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", "*", "2", " ", "-", " ", "8", "*", "7", "]", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "5", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "4", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "3", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "9", 0x09, ";", " ", "s", "y", "s", "_", "e", "x", "e", "c", "v", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "l", "i", "n", "k", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", 0x09, ";", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "0", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "i", ",", " ", "c", "o", "m", "p", "i", "l", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "5", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "r", "r", 0x09, 0x09, 0x09, ";", " ", "e", "x", "e", "c", "v", "e", " ", "r", "e", "t", "u", "r", "n", "s", " ", "o", "n", "l", "y", " ", "o", "n", " ", "e", "r", "r", "o", "r", 0x0A, 0x0A, "p", "o", "s", "t", "_", "l", "i", "n", "k", ":", 0x0A, 0x09, "c", "a", "l", "l", " ", "w", "a", "i", "t", "_", "c", "h", "i", "l", "d", 0x0A, 0x09, ";", " ", "F", "o", "r", "k", " ", "a", "n", "d", " ", "g", "o", " ", "t", "o", " ", "e", "r", "r", "o", "r", " ", "i", "f", " ", "e", "r", "r", "o", "r", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "7", 0x09, ";", " ", "F", "o", "r", "k", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "c", "m", "p", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "j", "l", " ", "e", "r", "r", 0x0A, 0x0A, 0x09, ";", " ", "I", "f", " ", "w", "e", " ", "a", "r", "e", " ", "i", "n", " ", "t", "h", "e", " ", "c", "h", "i", "l", "d", " ", "p", "r", "o", "c", "e", "s", "s", ",", " ", "r", "m", " ", "S", "u", "l", "l", "y", "_", "x", ".", "o", 0x0A, 0x09, "j", "n", "e", " ", "p", "o", "s", "t", "_", "r", "m", 0x09, ";", " ", "J", "u", "m", "p", " ", "t", "o", " ", "p", "o", "s", "t", "_", "r", "m", " ", "i", "f", " ", "p", "a", "r", "e", "n", "t", " ", "p", "r", "o", "c", "e", "s", "s", 0x0A, 0x09, ";", " ", "P", "r", "e", "p", "a", "r", "e", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "e", "l", " ", "r", "m", "_", "f", "i", "l", "e", "n", "a", "m", "e", "]", 0x09, 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "0", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "]", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "6", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "5", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "9", 0x09, ";", " ", "s", "y", "s", "_", "e", "x", "e", "c", "v", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "r", "m", "_", "f", "i", "l", "e", "n", "a", "m", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", 0x09, ";", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "0", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "r", "r", 0x09, 0x09, 0x09, ";", " ", "e", "x", "e", "c", "v", "e", " ", "r", "e", "t", "u", "r", "n", "s", " ", "o", "n", "l", "y", " ", "o", "n", " ", "e", "r", "r", "o", "r", 0x0A, 0x0A, "p", "o", "s", "t", "_", "r", "m", ":", 0x0A, 0x09, "c", "a", "l", "l", " ", "w", "a", "i", "t", "_", "c", "h", "i", "l", "d", 0x0A, 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", 0x09, 0x09, 0x09, ";", " ", "G", "e", "t", " ", "i", " ", "v", "a", "l", "u", "e", 0x0A, 0x09, "c", "m", "p", " ", "r", "a", "x", ",", " ", "0", 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "I", "f", " ", "i", " ", "e", "q", "u", "a", "l", "s", " ", "0", 0x0A, 0x09, "j", "e", " ", "e", "n", "d", 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, ";", " ", "e", "x", "i", "t", 0x0A, 0x09, ";", " ", "N", "o", " ", "n", "e", "e", "d", " ", "t", "o", " ", "f", "o", "r", "k", ",", " ", "t", "h", "i", "s", " ", "i", "s", " ", "t", "h", "e", " ", "f", "i", "n", "a", "l", " ", "s", "t", "e", "p", " ", ":", " ", "t", "h", "e", " ", "e", "x", "e", "c", "u", "t", "i", "o", "n", 0x0A, 0x09, "l", "e", "a", " ", "r", "a", "x", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "8", "]", 0x09, 0x09, 0x09, ";", " ", "M", "o", "v", "e", " ", "a", "v", "[", "0", "]", " ", "t", "o", " ", "a", "r", "g", "l", "i", "s", "t", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", ",", " ", "r", "a", "x", 0x09, ";", " ", ".", ".", ".", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "0", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "6", "]", ",", " ", "r", "a", "x", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "5", "9", 0x09, ";", " ", "s", "y", "s", "_", "e", "x", "e", "c", "v", "e", 0x0A, 0x09, "l", "e", "a", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "8", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", " ", "-", " ", "8", "*", "7", "]", 0x09, ";", " ", "a", "r", "g", "u", "m", "e", "n", "t", "s", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "0", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "r", "r", 0x09, 0x09, 0x09, ";", " ", "e", "x", "e", "c", "v", "e", " ", "r", "e", "t", "u", "r", "n", "s", " ", "o", "n", "l", "y", " ", "o", "n", " ", "e", "r", "r", "o", "r", 0x0A, "e", "r", "r", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "6", "0", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "1", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, "e", "n", "d", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "6", "0", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "0", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x0A, "f", "o", "o", ":", 0x0A, 0x09, "p", "u", "s", "h", " ", "r", "b", "p", 0x0A, 0x09, "m", "o", "v", " ", "r", "b", "p", ",", " ", "r", "s", "p", 0x0A, 0x09, "p", "u", "s", "h", " ", "l", "e", "n", 0x0A, 0x09, "l", "e", "a", " ", "r", "8", ",", " ", "[", "r", "e", "l", " ", "t", "e", "x", "t", "]", 0x0A, 0x09, "p", "u", "s", "h", " ", "r", "8", 0x0A, 0x09, "p", "u", "s", "h", " ", "r", "d", "i", 0x0A, "b", "e", "g", "i", "n", "_", "l", "o", "o", "p", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "s", "e", "p", "a", "r", "a", "t", "o", "r", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "l", "e", "n", "_", "s", "e", "p", "a", "r", "a", "t", "o", "r", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "m", "o", "v", " ", "r", "8", ",", " ", "[", "r", "b", "p", " ", "-", " ", "1", "6", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "9", "b", ",", " ", "[", "r", "8", "]", 0x0A, 0x09, "c", "m", "p", " ", "r", "9", "b", ",", " ", "0", "x", "0", "A", 0x0A, 0x09, "j", "e", " ", "p", "r", "i", "n", "t", "_", "n", "e", "w", "l", "i", "n", "e", 0x0A, 0x09, "c", "m", "p", " ", "r", "9", "b", ",", " ", "0", "x", "0", "9", 0x0A, 0x09, "j", "e", " ", "p", "r", "i", "n", "t", "_", "t", "a", "b", 0x0A, 0x09, "c", "m", "p", " ", "r", "9", "b", ",", " ", "0", "x", "2", "2", 0x0A, 0x09, "j", "e", " ", "p", "r", "i", "n", "t", "_", "q", "u", "o", "t", "e", 0x0A, "p", "r", "i", "n", "t", "_", "c", "h", "a", "r", "a", "c", "t", "e", "r", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "q", "u", "o", "t", "e", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "1", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "1", "6", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "1", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "q", "u", "o", "t", "e", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "1", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "n", "d", "_", "p", "r", "i", "n", "t", 0x0A, "p", "r", "i", "n", "t", "_", "n", "e", "w", "l", "i", "n", "e", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "n", "e", "w", "l", "i", "n", "e", "_", "h", "e", "x", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "n", "e", "w", "l", "i", "n", "e", "_", "h", "e", "x", "_", "l", "e", "n", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "n", "d", "_", "p", "r", "i", "n", "t", 0x0A, "p", "r", "i", "n", "t", "_", "t", "a", "b", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "t", "a", "b", "_", "h", "e", "x", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "t", "a", "b", "_", "h", "e", "x", "_", "l", "e", "n", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "n", "d", "_", "p", "r", "i", "n", "t", 0x0A, "p", "r", "i", "n", "t", "_", "q", "u", "o", "t", "e", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "a", "x", ",", " ", "1", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "i", ",", " ", "[", "r", "b", "p", " ", "-", " ", "2", "4", "]", 0x0A, 0x09, "l", "e", "a", " ", "r", "s", "i", ",", " ", "[", "r", "e", "l", " ", "q", "u", "o", "t", "e", "_", "h", "e", "x", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "d", "x", ",", " ", "q", "u", "o", "t", "e", "_", "h", "e", "x", "_", "l", "e", "n", 0x0A, 0x09, "s", "y", "s", "c", "a", "l", "l", 0x0A, 0x09, "j", "m", "p", " ", "e", "n", "d", "_", "p", "r", "i", "n", "t", 0x0A, "e", "n", "d", "_", "p", "r", "i", "n", "t", ":", 0x0A, 0x09, "m", "o", "v", " ", "r", "8", ",", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", 0x0A, 0x09, "m", "o", "v", " ", "r", "9", ",", " ", "[", "r", "b", "p", " ", "-", " ", "1", "6", "]", 0x0A, 0x09, "d", "e", "c", " ", "r", "8", 0x0A, 0x09, "i", "n", "c", " ", "r", "9", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "8", "]", ",", " ", "r", "8", 0x0A, 0x09, "m", "o", "v", " ", "[", "r", "b", "p", " ", "-", " ", "1", "6", "]", ",", " ", "r", "9", 0x0A, 0x09, "c", "m", "p", " ", "r", "8", ",", " ", "0", 0x0A, 0x09, "j", "n", "e", " ", "b", "e", "g", "i", "n", "_", "l", "o", "o", "p", 0x0A, 0x09, "m", "o", "v", " ", "r", "s", "p", ",", " ", "r", "b", "p", 0x0A, 0x09, "p", "o", "p", " ", "r", "b", "p", 0x0A, 0x09, "r", "e", "t", 0x0A, 0x0A, "s", "e", "c", "t", "i", "o", "n", " ", ".", "d", "a", "t", "a", 0x0A, 0x09, "f", "i", "l", "e", "_", "n", "a", "m", "e", ":", " ", "d", "b", " ", 0x22, "S", "u", "l", "l", "y", "_", "X", ".", "s", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "l", "e", "n", "_", "f", "i", "l", "e", "_", "n", "a", "m", "e", ":", " ", "e", "q", "u", " ", "$", "-", "f", "i", "l", "e", "_", "n", "a", "m", "e", 0x0A, 0x09, "n", "e", "w", "l", "i", "n", "e", "_", "h", "e", "x", ":", " ", "d", "b", " ", 0x22, "0", "x", "0", "A", 0x22, 0x0A, 0x09, "n", "e", "w", "l", "i", "n", "e", "_", "h", "e", "x", "_", "l", "e", "n", ":", " ", "e", "q", "u", " ", "$", "-", "n", "e", "w", "l", "i", "n", "e", "_", "h", "e", "x", 0x0A, 0x09, "t", "a", "b", "_", "h", "e", "x", ":", " ", "d", "b", " ", 0x22, "0", "x", "0", "9", 0x22, 0x0A, 0x09, "t", "a", "b", "_", "h", "e", "x", "_", "l", "e", "n", ":", " ", "e", "q", "u", " ", "$", "-", "t", "a", "b", "_", "h", "e", "x", 0x0A, 0x09, "q", "u", "o", "t", "e", "_", "h", "e", "x", ":", " ", "d", "b", " ", 0x22, "0", "x", "2", "2", 0x22, 0x0A, 0x09, "q", "u", "o", "t", "e", "_", "h", "e", "x", "_", "l", "e", "n", ":", " ", "e", "q", "u", " ", "$", "-", "q", "u", "o", "t", "e", "_", "h", "e", "x", 0x0A, 0x09, "q", "u", "o", "t", "e", ":", " ", "d", "b", " ", "'", 0x22, "'", 0x0A, 0x09, "s", "e", "p", "a", "r", "a", "t", "o", "r", ":", " ", "d", "b", " ", 0x22, ",", " ", 0x22, 0x0A, 0x09, "l", "e", "n", "_", "s", "e", "p", "a", "r", "a", "t", "o", "r", ":", " ", "e", "q", "u", " ", "$", "-", "s", "e", "p", "a", "r", "a", "t", "o", "r", 0x0A, 0x09, "c", "o", "m", "p", "i", "l", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", ":", " ", "d", "b", " ", 0x22, "/", "u", "s", "r", "/", "b", "i", "n", "/", "n", "a", "s", "m", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "c", "o", "m", "p", "i", "l", "e", "r", "_", "a", "r", "g", "1", ":", " ", "d", "b", " ", 0x22, "-", "f", "e", "l", "f", "6", "4", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "c", "o", "m", "p", "i", "l", "e", "r", "_", "a", "r", "g", "2", ":", " ", "d", "b", " ", 0x22, "-", "D", "G", "E", "N", "E", "R", "A", "T", "E", "D", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "l", "i", "n", "k", "e", "r", "_", "f", "i", "l", "e", "n", "a", "m", "e", ":", " ", "d", "b", " ", 0x22, "/", "u", "s", "r", "/", "b", "i", "n", "/", "l", "d", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "l", "i", "n", "k", "e", "r", "_", "a", "r", "g", "1", ":", " ", "d", "b", " ", 0x22, "-", "o", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "r", "m", "_", "f", "i", "l", "e", "n", "a", "m", "e", ":", " ", "d", "b", " ", 0x22, "/", "u", "s", "r", "/", "b", "i", "n", "/", "r", "m", 0x22, ",", " ", "0", "x", "0", "0", 0x0A, 0x09, "d", "e", "f", "i", "n", "e", "_", "t", "e", "x", "t", ":", " ", "d", "b", " ", 0x22, "%", "d", "e", "f", "i", "n", "e", " ", "I", " ", 0x22, 0x0A, 0x09, "l", "e", "n", "_", "d", "e", "f", "i", "n", "e", "_", "t", "e", "x", "t", ":", " ", "e", "q", "u", " ", "$", "-", "d", "e", "f", "i", "n", "e", "_", "t", "e", "x", "t", 0x0A, 0x09, "a", "f", "t", "e", "r", "_", "b", "i", "g", "_", "t", "e", "x", "t", ":", " ", "d", "b", " ", "0", "x", "0", "A", ",", " ", "0", "x", "0", "9", ",", " ", 0x22, "l", "e", "n", " ", "e", "q", "u", " ", "$", "-", "t", "e", "x", "t", 0x22, ",", " ", "0", "x", "0", "A", 0x0A, 0x09, "l", "e", "n", "_", "a", "f", "t", "e", "r", "_", "b", "i", "g", "_", "t", "e", "x", "t", ":", " ", "e", "q", "u", " ", "$", "-", "a", "f", "t", "e", "r", "_", "b", "i", "g", "_", "t", "e", "x", "t", 0x0A, 0x09, "t", "e", "x", "t", ":", " ", "d", "b", " ", 0x22, 0x22
	len equ $-text
